<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title></title>
    <!--<script src="lib/zepto.min.js"></script>-->
    <script src="/bower_components/zepto/zepto.min.js"></script>
    <script src="/lib/touch.js"></script>
    <script src="/lib/fx.js"></script>
    <style>
        html,body{
            padding:0;
            margin:0;
            width:100%;
            height: 100%;
            overflow: hidden;
        }
        #cc{
            position: absolute;
            left: 0;
        }
    </style>
</head>
<body>
<span id="a"></span>
<div id="cc" style="width:100px;height:50px;background-color:#ccc;"></div>
1234
</body>
<script>
   /* var startPosition, endPosition, deltaX, deltaY, moveLength;
    $("body").bind('tap', function(e){
        $('#a').html('222')
    })*/
   /*var startPosition, endPosition, deltaX, deltaY, moveLength;
   $("body").bind('touchstart', function(e){
       var touch = e.touches[0];
       startPosition = {
           x: touch.pageX,
           y: touch.pageY
       }
   }) .bind('touchmove', function(e){
       var touch = e.touches[0];
       endPosition = {
           x: touch.pageX,
           y: touch.pageY
       };

       deltaX = endPosition.x - startPosition.x;
       deltaY = endPosition.y - startPosition.y;
       moveLength = Math.sqrt(Math.pow(Math.abs(deltaX), 2) + Math.pow(Math.abs(deltaY), 2));
   }).bind('touchend', function(e){
       if(deltaX < 0) { // 向左划动
           console.log("向左划动");
           $('#a').html('向左划动')
       } else if (deltaX > 0) { // 向右划动
           console.log("向右划动");
           $('#a').html('向右划动')
       }
   });*/

   (function () {
       var el = document.querySelector('body');
       var startPosition, endPosition, deltaX, deltaY, moveLength;

       el.addEventListener('touchstart', function (e) {
           var touch = e.touches[0];
           startPosition = {
               x: touch.pageX,
               y: touch.pageY
           }
       });

       el.addEventListener('touchmove', function (e) {
           var touch = e.touches[0];
           endPosition = {
               x: touch.pageX,
               y: touch.pageY
           }

           deltaX = endPosition.x - startPosition.x;
           deltaY = endPosition.y - startPosition.y;
           moveLength = Math.sqrt(Math.pow(Math.abs(deltaX), 2) + Math.pow(Math.abs(deltaY), 2));
           //console.log(moveLength);
           $('#cc').animate({
               left:$('#cc').offset().left + moveLength
           })
           $('#a').html(moveLength)
       });
       $('body').swipeUp(function(){
           console.log('up')
       })
   })();
</script>
</html>